#!/usr/bin/env python
#
# Copyright (C) 2012 by Alex Brandt <alunduil@alunduil.com>
#
# singularity is freely distributable under the terms of an MIT-style license.
# See COPYING or http://www.opensource.org/licenses/mit-license.php.

import logging
import sys

from singularity.application import SingularityApplication

logger = logging.getLogger("console")
logger.setLevel(logging.DEBUG)
handler = logging.StreamHandler()
formatter = logging.Formatter("%(levelname)s-%(name)s: %(pathname)s:%(lineno)d in %(funcName)s: %(message)s")
handler.setFormatter(formatter)
logger.addHandler(handler)

def main():
    global logger
    try:
        app = SingularityApplication()
        logger = logging.getLogger(__name__)
        app.run()
    except Exception as error:
        logger.exception(error)
        sys.exit(1)

if __name__ == "__main__":
    main()

